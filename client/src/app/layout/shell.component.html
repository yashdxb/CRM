
    <div class="shell" [ngClass]="{ 'shell--collapsed': nav.collapsed() }">
      <app-sidebar (toggleSidebar)="nav.toggleSidebar()" />

      <div class="body">
        <app-topbar 
          (toggleSidebar)="nav.toggleSidebar()" 
          (openQuickAdd)="openQuickAdd()" 
        />

        <main class="content">
          <router-outlet />
        </main>

        <app-assistant-panel />

        <footer class="app-footer">
          <div class="footer-left">
            <span class="footer-brand">CRM Enterprise</span>
            <span class="footer-divider">•</span>
            <span class="footer-meta">Internal</span>
            <span class="footer-divider">•</span>
            <span class="footer-meta">v2.0</span>
          </div>
          <div class="footer-right">
            <span class="footer-chip">ENV: DEV</span>
            <a class="footer-link" href="mailto:support@northedgesystem.com">Support</a>
          </div>
        </footer>

        <app-toast />
      </div>
    </div>

    <!-- Global overlays -->
    <app-notification-container></app-notification-container>
    <app-command-palette></app-command-palette>
    <app-keyboard-shortcuts-modal></app-keyboard-shortcuts-modal>

    <app-quick-add-modal
      #quickAddModal
      [visible]="quickAddVisible()"
      [initialType]="quickAddType()"
      (close)="quickAddVisible.set(false)"
      (created)="onQuickAddCreated()"
    />
  
