<app-breadcrumbs></app-breadcrumbs>
<!-- Animated Background -->
<div class="page-background login-bg">
  <div class="animated-orb orb-1"></div>
  <div class="animated-orb orb-2"></div>
  <div class="animated-orb orb-3"></div>
  <div class="grid-pattern"></div>
</div>

<div class="login-page">
  <!-- Brand Header -->
  <div class="login-brand">
    <a routerLink="/landing" class="brand-link">
      <div class="brand-icon">
        <i class="pi pi-bolt"></i>
      </div>
      <span class="brand-name">CRM<span class="brand-accent">Enterprise</span></span>
    </a>
  </div>

  <!-- Login Card -->
  <div class="login-card">
    <div class="card-glow"></div>
    
    <div class="card-header">
      <div class="header-badges">
        <span class="badge-live">
          <span class="badge-dot"></span>
          Online
        </span>
        <span class="badge-version">v2.0</span>
      </div>
      <h1 class="card-title">Welcome Back</h1>
      <p class="card-subtitle">Sign in to access your workspace</p>
    </div>

    <form [formGroup]="form" (ngSubmit)="submit()" class="login-form">
      <div class="form-group">
        <label class="form-label">Email Address</label>
        <div class="input-wrapper" [class.focused]="emailFocused" [class.error]="form.get('email')?.touched && form.get('email')?.invalid">
          <i class="pi pi-envelope input-icon"></i>
          <input 
            pInputText 
            type="email" 
            formControlName="email" 
            placeholder="you@company.com"
            (focus)="emailFocused = true"
            (blur)="emailFocused = false"
          />
        </div>
        <span class="form-error" *ngIf="(showErrors || form.get('email')?.dirty) && form.get('email')?.invalid">
          <i class="pi pi-exclamation-circle"></i>
          Please enter a valid email
        </span>
      </div>

      <div class="form-group">
        <label class="form-label">Password</label>
        <div class="input-wrapper" [class.focused]="passwordFocused" [class.error]="form.get('password')?.touched && form.get('password')?.invalid">
          <i class="pi pi-lock input-icon"></i>
          <input 
            pInputText 
            type="password" 
            formControlName="password" 
            placeholder="••••••••"
            (focus)="passwordFocused = true"
            (blur)="passwordFocused = false"
          />
        </div>
        <span class="form-error" *ngIf="(showErrors || form.get('password')?.dirty) && form.get('password')?.invalid">
          <i class="pi pi-exclamation-circle"></i>
          Minimum 6 characters required
        </span>
      </div>

      <div class="form-row">
        <label class="checkbox-wrapper">
          <p-checkbox formControlName="remember" binary="true" inputId="remember"></p-checkbox>
          <span>Keep me signed in</span>
        </label>
        <a class="forgot-link">Forgot password?</a>
      </div>

      <button pButton type="submit" class="btn-submit" [disabled]="loading">
        <span *ngIf="!loading">
          <i class="pi pi-sign-in"></i>
          Sign In
        </span>
        <span *ngIf="loading" class="loading-state">
          <i class="pi pi-spinner pi-spin"></i>
          Signing in...
        </span>
      </button>

      <div class="error-message" *ngIf="error">
        <i class="pi pi-times-circle"></i>
        <span>{{ error }}</span>
      </div>
    </form>

    <div class="card-footer">
      <span class="footer-text">New to CRM Enterprise?</span>
      <a routerLink="/landing" class="footer-link">
        Explore the platform
        <i class="pi pi-arrow-right"></i>
      </a>
    </div>
  </div>

  <!-- Security Badge -->
  <div class="security-badge">
    <i class="pi pi-shield"></i>
    <span>256-bit SSL Encryption</span>
  </div>
</div>
